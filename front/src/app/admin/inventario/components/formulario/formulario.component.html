<div class="card" style="
    background: linear-gradient(to bottom right, #ffffff, #f0f8ff);
    border-radius: 1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    padding: 2rem;
    margin: 2rem auto;
    font-family: 'Segoe UI', sans-serif;
    max-width: 1100px;
">

    <h1 style="
        color: #070701;
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 2rem;
        font-weight: bold;
        border-bottom: 3px solid #FF5733 ;
        padding-bottom: 0.5rem;
        text-transform: uppercase;
    ">Formulario</h1>

    <p-button (onClick)="mostrarDialog()" label="Nuevo Formulario" class="p-button-success p-button-rounded"
        [style]="{ 'background-color': '#05b6f9', 'border': 'none' }">
    </p-button>

    <p-dialog header="Formulario" [(visible)]="dialog_visible" [modal]="true"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '30vw', 'border-radius': '1rem' }"
        [draggable]="false" [resizable]="false" class="p-fluid" [attr.aria-modal]="true" [closeOnEscape]="true">

        <form [formGroup]="formularioForm">
            <!-- Fecha -->
            <div class="field" style="margin-bottom: 1rem;">
                <label for="fecha" style="font-weight: 600; color: #007acc;">Fecha</label>
                <input type="date" pInputText id="fecha" formControlName="fecha" class="input-field" />
                <div *ngIf="formularioForm.get('fecha')?.invalid && formularioForm.get('fecha')?.touched"
                    class="error-message">
                    Fecha es obligatoria y debe tener el formato correcto.
                </div>
            </div>

            <!-- serie -->
            <div class="field" style="margin-bottom: 1rem;">
                <label for="serie" style="font-weight: 600; color: #007acc;">serie</label>
                <input type="text" pInputText id="area" formControlName="serie" class="input-field" />
                <div *ngIf="formularioForm.get('serie')?.invalid && formularioForm.get('serie')?.touched"
                    class="error-message">
                    El área es obligatoria.
                </div>
            </div>

            <!-- Tipo -->
            <div class="field" style="margin-bottom: 1rem;">
                <label for="tipo" style="font-weight: 600; color: #007acc;">Tipo</label>
                <input type="text" pInputText id="tipo" formControlName="tipo" class="input-field" />
                <div *ngIf="formularioForm.get('tipo')?.invalid && formularioForm.get('tipo')?.touched"
                    class="error-message">
                    El tipo es obligatorio.
                </div>
            </div>
            <!-- Descripción -->
            <div class="field" style="margin-bottom: 1rem;">
                <label for="descripcion" style="font-weight: 600; color: #007acc;">Descripción</label>
                <textarea pInputTextarea id="descripcion" formControlName="descripcion" class="input-field"
                    rows="3"></textarea>
                <div *ngIf="formularioForm.get('descripcion')?.invalid && formularioForm.get('descripcion')?.touched"
                    class="error-message">
                    La descripción de trabajo es obligatoria.
                </div>
            </div>

            <!-- recomendado -->
            <div class="field" style="margin-bottom: 1rem;">
                <label for="recomendado" style="font-weight: 600; color: #007acc;">Recomendado</label>
                <input type="text" pInputText id="recomendado" formControlName="recomendado" class="input-field" />
                <div *ngIf="formularioForm.get('recomendado')?.invalid && formularioForm.get('recomendado')?.touched"
                    class="error-message">
                    El campo es obligatorio.
                </div>
            </div>

        </form>

        <ng-template pTemplate="footer">
            <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-text" style="color: #007acc;"
                (click)="dialog_visible=false"></button>
            <button pButton pRipple label="Guardar" icon="pi pi-check" class="p-button-text p-button-success"
                [disabled]="isSaving" (click)="guardarformulario()"></button>
        </ng-template>
    </p-dialog>

    <!-- Tabla de Categorías -->
    <p-table [value]="formularios" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr style="background-color: #007acc; color: rgba(18, 176, 182, 0.699);">
                <th>ID</th>
                <th>Fecha</th>
                <th>Serie</th>
                <th>Tipo</th>
                <th>Descripción</th>
                <th>recomendado</th>
        </ng-template>
        <ng-template pTemplate="body" let-formulario>
            <tr style="background-color: #ffffff; transition: background 0.3s;"
                onmouseover="this.style.backgroundColor='#ffe5cc'" onmouseout="this.style.backgroundColor='#ffffff'">
                   <td>{{ formulario.id }}</td>
                <td>{{ formulario.fecha }}</td>
                <td>{{ formulario.serie }}</td>
                <td>{{ formulario.tipo }}</td>

                <td>{{ formulario.descripcion }}</td>
                <td>{{ formulario.recomendado }}</td>
                <td>
                    <div class="flex" style="gap: 0.5rem;">
                        <!--button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success"
                            style="background-color: #f98a05; border: none;" (click)="editarformulario(formulario)">
                        </button-->
                        <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"
                            style="background-color: #f30d0d; border: none;" (click)="eliminarformulario(formulario)">
                        </button>
                        <button pButton pRipple icon="pi pi-file-pdf" class="p-button-rounded p-button-danger"
                            style="background-color: #e53935; border: none;" (click)="generarPDFformulario(formulario)">
                        </button>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>

</div>
